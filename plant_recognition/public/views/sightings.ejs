<!doctype html>
<html lang="en">
<%- include('partials/head', { title: 'Sightings' , styles: ['/css/app.css'] }) %>

  <body>
    <%- include('partials/nav') %>

      <main class="container" style="max-width:1000px;margin:2rem auto;">
        <h1>Your Sightings</h1>

        <div id="sightings-empty" class="muted" style="margin:.5rem 0; display:none;">
          No sightings yet.
        </div>

        <div class="table-wrap">
          <table id="sightings-table" class="table">
            <thead>
              <tr>
                <th>Captured</th>
                <th>Species</th>
                <th>Confidence</th>
                <th>Location</th>
                <th>Source</th>
                <th>Image</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </main>

      <script type="module" src="/js/sightings.js"></script>
      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const body = document.body;
          const savedDarkMode = localStorage.getItem('darkMode');
          const savedColorBlindMode = localStorage.getItem('colorBlindMode');

          if (savedDarkMode === 'false') {
            body.classList.remove('dark-mode');
            body.classList.add('light-mode');
          } else {
            body.classList.remove('light-mode');
            body.classList.add('dark-mode');
          }

          body.classList.remove('protanopia', 'deuteranopia', 'tritanopia');
          if (savedColorBlindMode && savedColorBlindMode !== 'none') {
            body.classList.add(savedColorBlindMode);
          }
        });
      </script>
  </body>

</html>