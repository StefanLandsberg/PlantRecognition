<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Account • BotanicaVision</title>
<%- include('partials/head', { title: 'Settings' , styles: ['/css/app.css'] }) %>
  <script>
    try {
      var dark = localStorage.getItem('darkMode') === 'true';
      document.documentElement.classList.add(dark ? 'dark-mode' : 'light-mode');
      var cb = localStorage.getItem('colorBlindMode');
      if (cb && cb !== 'none') document.documentElement.classList.add(cb);
    } catch(e) {}
  </script>

</head>
<body>
  <%- include('partials/nav') %>

  <main class="container">
    <div class="account-wrapper">
      <section class="account" aria-label="Account">
        <div class="card" aria-labelledby="profile-h">
          <h1 id="profile-h" style="margin:0 0 .75rem;">Account</h1>

          <div class="form-grid" style="margin-top:.5rem;">
            <div class="field">
                <label for="acc-name">Display name</label>
                <input
                id="acc-name"
                name="displayName"
                type="text"
                placeholder="Your name"
                autocomplete="name" />
                <span class="helper">Shown on your sightings and comments.</span>
            </div>
            <div class="field">
                <label for="acc-email">Email</label>
                <input
                id="acc-email"
                name="email"
                type="email"
                placeholder="you@example.com"
                autocomplete="email" />
                <span class="helper">Used for login and notifications.</span>
            </div>
          </div>
          <div class="row-actions">
            <button id="acc-save" class="button primary">Save changes</button>
            <button id="acc-cancel" class="button ghost">Reset</button>
          </div>
          <p id="acc-error" class="error" role="status" aria-live="polite"></p>
        </div>


        <div class="card" aria-labelledby="pwd-h" style="margin-top:1rem;">
          <h3 id="pwd-h" style="margin:0 0 .75rem;">Password</h3>
                <div class="form-grid">
                <div class="field">
                    <label for="pwd-current">Current password</label>
                    <input
                    id="pwd-current"
                    name="currentPassword"
                    type="password"
                    placeholder="••••••••"
                    autocomplete="new-password" />
                </div>
                <div class="field">
                    <label for="pwd-new">New password</label>
                    <input
                    id="pwd-new"
                    name="newPassword"
                    type="password"
                    placeholder="••••••••"
                    autocomplete="new-password" />
                    <span class="helper">Use at least 8 characters.</span>
                </div>
                <div class="field">
                    <label for="pwd-confirm">Confirm new password</label>
                    <input
                    id="pwd-confirm"
                    name="confirmNewPassword"
                    type="password"
                    placeholder="••••••••"
                    autocomplete="new-password" />
                </div>
                </div>
          <div class="row-actions">
            <button id="pwd-update" class="button primary">Update password</button>
          </div>
          <p id="pwd-error" class="error" role="status" aria-live="polite"></p>
        </div>

        <div class="card danger-card" style="margin-top:1rem;" aria-labelledby="danger-h">
          <h3 id="danger-h" style="margin:0 0 .25rem;">Danger zone</h3>
          <p class="helper">Permanently delete your account and associated data.</p>
          <div class="row-actions">
            <button id="acc-delete" class="button danger">Delete account</button>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script src="/js/account.js" type="module"></script>
</body>
</html>
